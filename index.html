<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexvia Photo Session</title>

    <style>
        body {
            position: absolute;
            width: 1000px;
            box-sizing: border-box;
            margin: 0;
            top: -91px;
            left: -190px;
            height: 100vh;
            clip-path: inset(0 200px 0 0);
        }

        iframe {
            height: 100vh;
        }
    </style>
</head>
<body>
    <!-- Embed Script -->
    <script>
        function getParentUrlParams() {
            try {
                // Attempt to get the URL parameters from the parent page
                const urlParams = new URLSearchParams(window.parent.location.search);
                return urlParams.get('PHOTOSESSIONTYPE');
            } catch (e) {
                // If access is blocked, default to 'Regular'
                return 'Regular';
            }
        }

        // Determine the data-domain value based on PHOTOSESSIONTYPE
        const photoSessionType = getParentUrlParams();
        const domain = (photoSessionType && photoSessionType === 'Regular') ? 'nexvia-photosession' : 'nexvia-photoshowcasesession';


        // Create and insert the embed script dynamically
        const script = document.createElement('script');
        script.src = 'https://embed.ycb.me';
        script.async = true;
        script.setAttribute('data-domain', domain);
        script.setAttribute('data-copyparameters', '');
        document.body.appendChild(script);
    </script>
    <script src="params.js"></script>
</body>
</html>
